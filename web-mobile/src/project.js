window.__require=function e(t,o,n){function c(l,r){if(!o[l]){if(!t[l]){var p=l.split("/");if(p=p[p.length-1],!t[p]){var a="function"==typeof __require&&__require;if(!r&&a)return a(p,!0);if(i)return i(p,!0);throw new Error("Cannot find module '"+l+"'")}}var s=o[l]={exports:{}};t[l][0].call(s.exports,function(e){return c(t[l][1][e]||e)},s,s.exports,e,t,o,n)}return o[l].exports}for(var i="function"==typeof __require&&__require,l=0;l<n.length;l++)c(n[l]);return c}({Home:[function(e,t,o){"use strict";cc._RF.push(t,"54b50okZzFLRqZutaUuxXCK","Home"),Object.defineProperty(o,"__esModule",{value:!0});var n,c=cc._decorator,i=c.ccclass,l=c.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UserAddress=null,t.NewGame=null,t.JoinGame=null,t.PopUp=null,t.PopTitle=null,t.PopContent=null,t.PopEditNode=null,t.PopEditContent=null,t.PopOKButton=null,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;web3.eth.getAccounts(function(t,o){0===o.length||(e.UserAddress.string="User: "+o[0])})},t.prototype.start=function(){this.NewGame.node.on("click",this.CreateNewGame,this),this.JoinGame.node.on("click",this.JoinUserGame,this),this.PopUp.node.on("ClickedOk",this.GetEnteredRoomID,this),n=this,Socket.on("CreatedGame",this.CreatedGame),Socket.on("JoinedGame",this.JoinedGame),Socket.on("JoinError",this.JoinError),Socket.on("startGame",function(e){cc.sys.localStorage.setItem("room",e),setTimeout(function(){cc.director.loadScene("Playground")},2e3)})},t.prototype.JoinedGame=function(e){n.PopOKButton.active=!1,n.PopEditNode.active=!1,n.PopTitle.string="Success",n.PopContent.string="Room id: "+e,n.PopUp.play("popup")},t.prototype.JoinError=function(e){n.PopEditNode.active=!1,n.PopTitle.string="Error",n.PopContent.string=e,n.PopUp.play("popup")},t.prototype.CreatedGame=function(e){n.PopOKButton.active=!1,n.PopEditNode.active=!1,n.PopTitle.string="Waiting For New Player",n.PopContent.string="Room id: "+e,n.PopUp.play("popup")},t.prototype.CreateNewGame=function(){Socket.emit("NewGame")},t.prototype.JoinUserGame=function(){this.PopOKButton.active=!0,this.PopEditNode.active=!0,this.PopTitle.string="Enter Room id",this.PopContent.string="",this.PopUp.play("popup")},t.prototype.GetEnteredRoomID=function(){this.PopEditNode.active&&Socket.emit("JoinGame",this.PopEditContent.string)},__decorate([l(cc.RichText)],t.prototype,"UserAddress",void 0),__decorate([l(cc.Button)],t.prototype,"NewGame",void 0),__decorate([l(cc.Button)],t.prototype,"JoinGame",void 0),__decorate([l(cc.Animation)],t.prototype,"PopUp",void 0),__decorate([l(cc.RichText)],t.prototype,"PopTitle",void 0),__decorate([l(cc.RichText)],t.prototype,"PopContent",void 0),__decorate([l(cc.Node)],t.prototype,"PopEditNode",void 0),__decorate([l(cc.Label)],t.prototype,"PopEditContent",void 0),__decorate([l(cc.Node)],t.prototype,"PopOKButton",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],Login:[function(e,t,o){"use strict";cc._RF.push(t,"bfffcPqHCRGB6THoGQ/5b8u","Login"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PopUp=null,t.PopTitle=null,t.PopContent=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.node.on("click",this.web3login,this)},t.prototype.start=function(){},t.prototype.web3login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:if(!window.ethereum)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ethereum.enable()];case 2:return e.sent(),cc.director.loadScene("Home"),[3,4];case 3:return e.sent(),this.PopTitle.string="OH!! No...",this.PopContent.string="Something Went Wrong...",this.PopUp.play("popup"),[3,4];case 4:return[3,6];case 5:this.PopTitle.string="OH!! No...",this.PopContent.string="Please Install MetaMask",this.PopUp.play("popup"),e.label=6;case 6:return[2]}})})},__decorate([i(cc.Animation)],t.prototype,"PopUp",void 0),__decorate([i(cc.RichText)],t.prototype,"PopTitle",void 0),__decorate([i(cc.RichText)],t.prototype,"PopContent",void 0),t=__decorate([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],playerAnime:[function(e,t,o){"use strict";cc._RF.push(t,"b194apmZ+ZL16bVtsvADkpp","playerAnime"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t.prototype.SpellAudio=function(){this.node.emit("StartAudio")},t.prototype.SpellAnime=function(){this.node.emit("StartAnime")},t.prototype.AttackEnd=function(){this.node.emit("EndAttack")},t=__decorate([c],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],play:[function(e,t,o){"use strict";cc._RF.push(t,"4b4d3fQ2uZPmYYwOpflEVRV","play"),Object.defineProperty(o,"__esModule",{value:!0});var n,c,i=cc._decorator,l=i.ccclass,r=i.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Attack1=null,t.Attack2=null,t.Player=null,t.Enemy=null,t.Spell=null,t.EnemySpell=null,t.spell1=null,t.spell2=null,t.spell3=null,t.spell4=null,t.spell5=null,t.spell6=null,t.spelleffect=null,t.SelectWizard=null,t.SelectWizardContent=null,t.SelectCard=null,t.SpellSelect=null,t.Seconds=0,t.CountDown=10,t}return __extends(t,e),t.prototype.onLoad=function(){n=this,cc.loader.loadRes("Cards/1",cc.SpriteFrame,function(e,t){var o=cc.instantiate(n.SelectCard);o.getChildByName("cardimage").getComponent(cc.Sprite).spriteFrame=t,o.getChildByName("Card Name").getComponent(cc.RichText).string="Harry",n.SelectWizard.getComponent(cc.PageView).addPage(o),o.getChildByName("button").on("click",function(){return n.chooseWizard(1)},n)}),cc.loader.loadRes("Cards/2",cc.SpriteFrame,function(e,t){var o=cc.instantiate(n.SelectCard);o.getChildByName("cardimage").getComponent(cc.Sprite).spriteFrame=t,o.getChildByName("Card Name").getComponent(cc.RichText).string="Ron",n.SelectWizard.getComponent(cc.PageView).addPage(o),o.getChildByName("button").on("click",function(){return n.chooseWizard(2)},n)}),cc.loader.loadRes("Cards/3",cc.SpriteFrame,function(e,t){var o=cc.instantiate(n.SelectCard);o.getChildByName("cardimage").getComponent(cc.Sprite).spriteFrame=t,o.getChildByName("Card Name").getComponent(cc.RichText).string="Hermione",n.SelectWizard.getComponent(cc.PageView).addPage(o),o.getChildByName("button").on("click",function(){return n.chooseWizard(3)},n)})},t.prototype.start=function(){var e=this;this.Attack1.node.on("click",this.PlayerAttack,this),this.Attack2.node.on("click",this.EnemyAttack,this),this.Player.node.on("StartAudio",this.PlaySpellAudio,this),this.Player.node.on("StartAnime",this.PlaySpellAnime,this),this.Player.node.on("EndAttack",this.EndAttackAnime,this),this.Spell.node.on("EndSpellAnime",this.EndSpellAnime,this),this.SpellSelect.getChildByName("spell 1").on("click",function(){return e.chooseSpell(1)},this),this.SpellSelect.getChildByName("spell 2").on("click",function(){return e.chooseSpell(2)},this),this.SpellSelect.getChildByName("spell 3").on("click",function(){return e.chooseSpell(3)},this),this.SpellSelect.getChildByName("spell 4").on("click",function(){return e.chooseSpell(4)},this),this.SpellSelect.getChildByName("spell 5").on("click",function(){return e.chooseSpell(5)},this),this.SpellSelect.getChildByName("spell 6").on("click",function(){return e.chooseSpell(6)},this),Socket.on("EndCharacterSelection",this.EndCharacterSelection),Socket.on("MatchResult",this.MatchResult)},t.prototype.halfway=function(){console.log("hehehe")},t.prototype.MatchResult=function(e){var t;n.SpellSelect.active=!1,n.node.getChildByName("Timer").active=!1;var o=e[1];c=e[0],1==o?(n.spell1.play(),t=n.spell1.getDuration()):2==o?(n.spell2.play(),t=n.spell2.getDuration()):3==o?(n.spell3.play(),t=n.spell3.getDuration()):4==o?(n.spell4.play(),t=n.spell4.getDuration()):5==o?(n.spell5.play(),t=n.spell5.getDuration()):(n.spell6.play(),t=n.spell6.getDuration()),setTimeout(function(){0==c?(n.Player.stop("PlayerIdle"),n.Player.play("PlayerAttack")):(n.Enemy.stop("PlayerIdle"),n.Enemy.play("PlayerAttack"))},1e3*t-2e3)},t.prototype.EndCharacterSelection=function(){n.CountDown=10,n.SelectWizard.active=!1,n.SpellSelect.active=!0},t.prototype.chooseSpell=function(e){var t=cc.sys.localStorage.getItem("room");Socket.emit("SelectSpell",[t,e])},t.prototype.chooseWizard=function(e){Socket.emit("SelectWizard")},t.prototype.PlayerAttack=function(){this.spell1.play();var e=this.spell1.getDuration(),t=this;setTimeout(function(){t.Player.stop("PlayerIdle"),t.Player.play("PlayerAttack")},1e3*e-2e3)},t.prototype.EnemyAttack=function(){},t.prototype.PlaySpellAudio=function(){},t.prototype.PlaySpellAnime=function(){this.spelleffect.volume=.8,this.spelleffect.play(),0==c?this.Spell.play("spell"):this.EnemySpell.play("spell")},t.prototype.EndAttackAnime=function(){0==c?(this.Player.stop("PlayerAttack"),this.Player.play("PlayerIdle")):(this.Enemy.stop("PlayerAttack"),this.Enemy.play("PlayerIdle"))},t.prototype.EndSpellAnime=function(){this.spelleffect.stop(),0==c?this.Enemy.play("PlayerDying"):this.Player.play("PlayerDying")},t.prototype.update=function(e){this.Seconds++,this.Seconds>=60&&this.CountDown>0&&(this.CountDown--,this.node.getChildByName("Timer").getComponent(cc.RichText).string=JSON.stringify(this.CountDown),this.Seconds=0)},__decorate([r(cc.Button)],t.prototype,"Attack1",void 0),__decorate([r(cc.Button)],t.prototype,"Attack2",void 0),__decorate([r(cc.Animation)],t.prototype,"Player",void 0),__decorate([r(cc.Animation)],t.prototype,"Enemy",void 0),__decorate([r(cc.Animation)],t.prototype,"Spell",void 0),__decorate([r(cc.Animation)],t.prototype,"EnemySpell",void 0),__decorate([r(cc.AudioSource)],t.prototype,"spell1",void 0),__decorate([r(cc.AudioSource)],t.prototype,"spell2",void 0),__decorate([r(cc.AudioSource)],t.prototype,"spell3",void 0),__decorate([r(cc.AudioSource)],t.prototype,"spell4",void 0),__decorate([r(cc.AudioSource)],t.prototype,"spell5",void 0),__decorate([r(cc.AudioSource)],t.prototype,"spell6",void 0),__decorate([r(cc.AudioSource)],t.prototype,"spelleffect",void 0),__decorate([r(cc.Node)],t.prototype,"SelectWizard",void 0),__decorate([r(cc.Node)],t.prototype,"SelectWizardContent",void 0),__decorate([r(cc.Node)],t.prototype,"SelectCard",void 0),__decorate([r(cc.Node)],t.prototype,"SpellSelect",void 0),t=__decorate([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],popup:[function(e,t,o){"use strict";cc._RF.push(t,"bc70coGdUJMdbG12MyjO8TX","popup"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PopButton=null,t}return __extends(t,e),t.prototype.start=function(){this.PopButton.node.on("click",this.popdown,this)},t.prototype.popdown=function(){this.getComponent(cc.Animation).play("popdown"),this.node.emit("ClickedOk")},__decorate([i(cc.Button)],t.prototype,"PopButton",void 0),t=__decorate([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],spellAnime:[function(e,t,o){"use strict";cc._RF.push(t,"5440bI/GsNGXoq37865ejK/","spellAnime"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t.prototype.AnimeEnd=function(){this.node.emit("EndSpellAnime")},t=__decorate([c],t)}(cc.Component));o.default=i,cc._RF.pop()},{}]},{},["Home","Login","play","playerAnime","popup","spellAnime"]);